<Window xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="winHelp v2 - Professional Windows Orchestrator" Height="850" Width="1100" 
        WindowStartupLocation="CenterScreen" Background="#121212" Foreground="#E0E0E0" FontFamily="Segoe UI Variable, Segoe UI">
    <Window.Resources>
        <!-- Modern Color Palette -->
        <SolidColorBrush x:Key="WindowBg" Color="#121212"/>
        <SolidColorBrush x:Key="CardBg" Color="#1E1E1E"/>
        <SolidColorBrush x:Key="BorderBrush" Color="#333333"/>
        <SolidColorBrush x:Key="AccentBrush" Color="#0078D4"/>
        <SolidColorBrush x:Key="TextPrimary" Color="#FFFFFF"/>
        <SolidColorBrush x:Key="TextSecondary" Color="#AAAAAA"/>
        
        <!-- TabItem Style -->
        <Style TargetType="TabItem">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TabItem">
                        <Border Name="Border" Background="Transparent" BorderThickness="0,0,0,2" Margin="10,0" Padding="10,15">
                            <ContentPresenter ContentSource="Header" RecognizesAccessKey="True" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="Border" Property="BorderBrush" Value="{StaticResource AccentBrush}"/>
                                <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
                                <Setter Property="FontWeight" Value="SemiBold"/>
                            </Trigger>
                            <Trigger Property="IsSelected" Value="False">
                                <Setter Property="Foreground" Value="{StaticResource TextSecondary}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Button Styles -->
        <Style TargetType="Button">
            <Setter Property="Background" Value="#2D2D2D"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="20,10"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="4">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/> <!-- Title Bar -->
            <RowDefinition Height="*"/>    <!-- Tabs Content -->
            <RowDefinition Height="Auto"/> <!-- Status Bar -->
        </Grid.RowDefinitions>

        <!-- Sidebar-like Top Navigation -->
        <Border Grid.Row="0" Background="#181818" BorderBrush="#252525" BorderThickness="0,0,0,1">
            <Grid Margin="20,10">
                <TextBlock Text="winHelp v2" FontSize="20" FontWeight="Bold" VerticalAlignment="Center" Foreground="{StaticResource AccentBrush}"/>
                <TabControl Name="MainTabControl" Background="Transparent" BorderThickness="0" HorizontalAlignment="Right">
                    <TabItem Header="SETUP / INSTALL" Name="TabSetup"/>
                    <TabItem Header="GIT &amp; GITHUB" Name="TabGit"/>
                    <TabItem Header="SYSTEM &amp; SAFETY" Name="TabSystem"/>
                    <TabItem Header="SETTINGS" Name="TabSettings"/>
                    <TabItem Header="LOGS" Name="TabLogs"/>
                </TabControl>
            </Grid>
        </Border>

        <!-- Main Content Area -->
        <Grid Grid.Row="1" Margin="30">
            <!-- Dynamic Content based on Selection -->
            <ContentControl Name="TabContent">
                <!-- We will switch this content in PS, but here is the definition of the actual grids -->
            </ContentControl>

            <!-- Embedded Tab Grids (Hidden by default, shown via UIManager) -->
            <Grid Name="GridSetup" Visibility="Visible">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <TextBlock Text="Software Installation" FontSize="24" FontWeight="SemiBold" Margin="0,0,0,20"/>
                <Border Grid.Row="1" Background="{StaticResource CardBg}" CornerRadius="8" Padding="20">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <WrapPanel Name="AppCheckPanel"/>
                    </ScrollViewer>
                </Border>
                <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
                    <Button Name="InstallAppsBtn" Content="Install Selected Apps" Background="{StaticResource AccentBrush}" Width="200" Height="45"/>
                </StackPanel>
            </Grid>

            <Grid Name="GridGit" Visibility="Collapsed">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <StackPanel Margin="0,0,20,0">
                    <TextBlock Text="Git Identity" FontSize="22" Margin="0,0,0,15"/>
                    <Border Background="{StaticResource CardBg}" Padding="20" CornerRadius="8">
                        <StackPanel>
                            <TextBlock Text="Global User Name" Margin="0,0,0,5" Foreground="{StaticResource TextSecondary}"/>
                            <TextBox Name="GitNameBox" Background="#252525" Padding="10" BorderThickness="0" Margin="0,0,0,15"/>
                            <TextBlock Text="Global User Email" Margin="0,0,0,5" Foreground="{StaticResource TextSecondary}"/>
                            <TextBox Name="GitEmailBox" Background="#252525" Padding="10" BorderThickness="0" Margin="0,0,0,20"/>
                            <Button Name="SaveGitConfigBtn" Content="Save Identity" HorizontalAlignment="Left" Width="150"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
                <StackPanel Grid.Column="1">
                    <TextBlock Text="Repository Management" FontSize="22" Margin="0,0,0,15"/>
                    <Border Background="{StaticResource CardBg}" Padding="20" CornerRadius="8" Height="400">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Button Name="FetchReposBtn" Content="Fetch Repositories" Margin="0,0,0,15"/>
                            <ListView Name="RepoListView" Grid.Row="1" Background="Transparent" BorderThickness="0">
                                <!-- Template set in PS -->
                            </ListView>
                            <Button Name="CloneReposBtn" Grid.Row="2" Content="Clone Selected" Background="{StaticResource AccentBrush}" Margin="0,15,0,0"/>
                        </Grid>
                    </Border>
                </StackPanel>
            </Grid>

            <Grid Name="GridSystem" Visibility="Collapsed">
                 <UniformGrid Columns="2" Rows="2">
                    <Border Background="{StaticResource CardBg}" Margin="10" Padding="20" CornerRadius="8">
                        <StackPanel>
                            <TextBlock Text="Debloat Windows" FontSize="18" Margin="0,0,0,10"/>
                            <CheckBox Name="DebloatTelemetry" Content="Telemetry &amp; Data" IsChecked="True" Margin="0,5"/>
                            <CheckBox Name="DebloatApps" Content="Preinstalled Apps" IsChecked="True" Margin="0,5"/>
                            <CheckBox Name="DebloatBing" Content="Bing Start Search" IsChecked="True" Margin="0,5"/>
                            <Button Name="RunDebloatBtn" Content="Run Optimizations" Margin="0,15,0,0" Background="{StaticResource AccentBrush}"/>
                        </StackPanel>
                    </Border>
                    <Border Background="{StaticResource CardBg}" Margin="10" Padding="20" CornerRadius="8">
                        <StackPanel>
                            <TextBlock Text="Backup &amp; Restore" FontSize="18" Margin="0,0,0,10"/>
                            <Button Name="ExportBtn" Content="Export Snapshot" Margin="0,5"/>
                            <Button Name="ImportBtn" Content="Restore Snapshot" Margin="0,5"/>
                        </StackPanel>
                    </Border>
                    <Border Background="{StaticResource CardBg}" Margin="10" Padding="20" CornerRadius="8">
                        <StackPanel>
                            <TextBlock Text="System Updates" FontSize="18" Margin="0,0,0,10"/>
                            <Button Name="RunUpdateBtn" Content="Check for Updates" Margin="0,5"/>
                        </StackPanel>
                    </Border>
                 </UniformGrid>
            </Grid>

            <Grid Name="GridSettings" Visibility="Collapsed">
                <TextBlock Text="Application Settings" FontSize="24" Margin="0,0,0,20"/>
                <Border Background="{StaticResource CardBg}" Padding="20" CornerRadius="8">
                    <StackPanel>
                        <TextBlock Text="Log Level" Foreground="{StaticResource TextSecondary}"/>
                        <ComboBox Name="LogLevelSelector" Margin="0,5,0,20"/>
                        <TextBlock Text="Backup Directory" Foreground="{StaticResource TextSecondary}"/>
                        <TextBox Name="BackupPathBox" Background="#252525" Padding="10" BorderThickness="0" Margin="0,5,0,20"/>
                        <Button Name="SaveSettingsBtn" Content="Apply All Changes" Background="{StaticResource AccentBrush}" Width="200"/>
                    </StackPanel>
                </Border>
            </Grid>

            <Grid Name="GridLogs" Visibility="Collapsed">
                <Border Background="Black" CornerRadius="8" Padding="15">
                     <TextBox Name="LogBox" IsReadOnly="True" Background="Transparent" Foreground="#00FF00" 
                             FontFamily="Consolas" FontSize="12" BorderThickness="0" AcceptsReturn="True"
                             VerticalScrollBarVisibility="Auto" TextWrapping="Wrap"/>
                </Border>
            </Grid>
        </Grid>

        <!-- Footer / Status Bar -->
        <Border Grid.Row="2" Background="#181818" Padding="20,10" BorderBrush="#252525" BorderThickness="0,1,0,0">
            <Grid>
                <TextBlock Name="StatusIndicator" Text="Ready" VerticalAlignment="Center" Foreground="{StaticResource TextSecondary}"/>
                <ProgressBar Name="GlobalProgress" IsIndeterminate="False" Height="4" VerticalAlignment="Bottom" Margin="0,0,0,-10" Visibility="Collapsed"/>
            </Grid>
        </Border>
    </Grid>
</Window>
